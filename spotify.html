<html class="scroll-smooth" lang="id">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>GiazaSong - Spotify Style</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
    body { font-family: "Montserrat", "Roboto", sans-serif; }
    #daftar-lagu::-webkit-scrollbar { width: 8px; }
    #daftar-lagu::-webkit-scrollbar-track { background: #121212; }
    #daftar-lagu::-webkit-scrollbar-thumb { background-color: #1db954; border-radius: 10px; }
  </style>
</head>
<body class="bg-[#121212] text-white flex flex-col min-h-screen relative overflow-x-hidden">
  <!-- SIDEBAR -->
  <div id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-black bg-opacity-30 backdrop-blur-md border-r border-gray-800 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-40 flex flex-col">
    <div class="flex items-center justify-between px-6 py-5 border-b border-gray-800">
      <div class="flex items-center gap-3">
        <img class="w-10 h-10 rounded-full" src="https://yt3.ggpht.com/GueEdFFaBmdODp_MK8rfIRDcnoYVHrQWiLc8igOC-43e4WacwP1pN2oNLoj_yXJODNmtxFOaSw=s600-c-k-c0x00ffffff-no-rj-rp-mo" alt="Portrait of a young man with short black hair and a friendly smile, wearing a casual black shirt, on a blurred dark background"/>
        <h1 class="text-3xl font-extrabold tracking-wide text-[#1db954] select-none">GiazaSong</h1>
      </div>
      <button id="closeSidebar" aria-label="Close sidebar" class="text-gray-400 hover:text-white text-2xl focus:outline-none md:hidden">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <nav class="flex-1 px-4 py-6 overflow-y-auto">
      <ul class="space-y-4">
        <li>
          <a href="halaman ai.html" class="flex items-center gap-4 text-gray-300 hover:text-white transition-colors duration-200">
            <i class="fas fa-home text-lg w-5"></i>
            <span class="text-base font-semibold select-none">üè° Beranda</span>
          </a>
        </li>
        <li>
          <a href="search.html" class="flex items-center gap-4 text-gray-300 hover:text-white transition-colors duration-200">
            <i class="fas fa-search text-lg w-5"></i>
            <span class="text-base font-semibold select-none">üîé Pencarian web</span>
          </a>
        </li>
        <li>
          <a href="index.html" class="flex items-center gap-4 text-gray-300 hover:text-white transition-colors duration-200">
            <i class="fas fa-search text-lg w-5"></i>
            <span class="text-base font-semibold select-none">üíª Belajar</span>
          </a>
        </li>
        <li>
          <a href="https://whatsapp.com/channel/0029Vb72mQ1LCoX3Gh894J0J" class="flex items-center gap-4 text-gray-300 hover:text-white transition-colors duration-200">
            <i class="fas fa-book text-lg w-5"></i>
            <span class="text-base font-semibold select-none">üí¨ Join Saluran</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- SIDEBAR OVERLAY -->
  <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-300 z-30 md:hidden"></div>

  <!-- HEADER -->
  <header class="flex items-center justify-between px-6 py-4 bg-[#181818] sticky top-0 z-50 shadow-md">
    <div class="flex items-center gap-3">
      <button id="openSidebar" aria-label="Open sidebar" class="text-gray-400 hover:text-white text-2xl focus:outline-none md:hidden">
        <i class="fas fa-bars"></i>
      </button>
      <img class="w-10 h-10 rounded-full" src="https://yt3.ggpht.com/GueEdFFaBmdODp_MK8rfIRDcnoYVHrQWiLc8igOC-43e4WacwP1pN2oNLoj_yXJODNmtxFOaSw=s600-c-k-c0x00ffffff-no-rj-rp-mo" alt="Portrait of a young man with short black hair and a friendly smile, wearing a casual black shirt, on a blurred dark background"/>
      <h1 class="text-3xl font-extrabold tracking-wide text-[#1db954] select-none">GiazaSong</h1>
    </div>
  </header>

  <!-- MAIN -->
  <main class="flex-1 flex flex-col md:flex-row overflow-hidden">
    <section class="flex-1 flex flex-col bg-[#121212] p-6 overflow-y-auto md:ml-64">
      <div class="mb-6">
        <input id="search-lagu" placeholder="Cari lagu atau artis..." type="search"
          class="w-full rounded-full bg-[#181818] py-3 pl-12 pr-4 text-sm placeholder-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-[#1db954]" />
      </div>
      <div id="daftar-lagu" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6"></div>
    </section>
  </main>

  <!-- FOOTER PLAYER -->
  <footer class="fixed bottom-0 left-0 right-0 bg-[#181818] border-t border-gray-700 p-4 flex flex-col md:flex-row items-center justify-between gap-4 z-50 md:ml-64">
    <div class="flex items-center gap-4 w-full md:w-1/3">
      <img id="cover" class="w-14 h-14 rounded-md object-cover shadow-lg"
        src="https://yt3.ggpht.com/GueEdFFaBmdODp_MK8rfIRDcnoYVHrQWiLc8igOC-43e4WacwP1pN2oNLoj_yXJODNmtxFOaSw=s600-c-k-c0x00ffffff-no-rj-rp-mo" alt="Album cover image showing a colorful abstract art with green and black tones"/>
      <div class="flex flex-col overflow-hidden">
        <span id="judul-lagu" class="font-semibold text-white truncate max-w-[180px]">-</span>
        <span class="text-gray-400 text-xs mt-1 truncate max-w-[180px]" id="artist-lagu">Artis Tidak Diketahui</span>
      </div>
    </div>
    <div class="flex flex-col items-center w-full md:w-1/3">
      <div class="flex items-center gap-6">
        <button id="prev" class="text-gray-400 hover:text-white text-2xl"><i class="fas fa-step-backward"></i></button>
        <button id="play" class="text-white text-4xl hover:text-[#1db954]">‚ñ∂</button>
        <button id="next" class="text-gray-400 hover:text-white text-2xl"><i class="fas fa-step-forward"></i></button>
      </div>
      <div class="flex items-center gap-2 w-full mt-2 text-xs text-gray-400">
        <span id="current-time">0:00</span>
        <input id="progress" type="range" value="0" min="0" max="100" step="0.1" class="w-full accent-[#1db954]"/>
        <span id="total-time">0:00</span>
      </div>
    </div>
  </footer>

  <!-- Hidden YouTube player -->
  <div id="player-container" style="width:0;height:0;overflow:hidden;">
    <div id="youtube-player"></div>
  </div>

  <script>
    const laguList = [
  { judul: "Tresno Liyane", artist: "Northsle ft. Agiff", youtubeId: "1y8wBXW0_pE", cover: "https://i.ytimg.com/vi/1y8wBXW0_pE/hqdefault.jpg" },
  { judul: "RAISO NGAPUSI", artist: "Tekomlaku ft. Ervin Sofiani", youtubeId: "Mb33UY1suts", cover: "https://i.ytimg.com/vi/Mb33UY1suts/hqdefault.jpg" },
  { judul: "Penjaga Hati", artist: "Nadhif Basalamah", youtubeId: "2cGSp2sRShs", cover: "https://i.ytimg.com/vi/2cGSp2sRShs/hqdefault.jpg" },
  { judul: "Tia Monika", artist: "Dek Aroel", youtubeId: "6st4neE7DVg", cover: "https://i.ytimg.com/vi/6st4neE7DVg/hqdefault.jpg" },
  { judul: "Dom cae cae", artist: "Biser King (trend ‚ÄúDom Dom Yes Yes‚Äù)", youtubeId: "Hv0V0RDcyDQ", cover: "https://i.ytimg.com/vi/Hv0V0RDcyDQ/hqdefault.jpg" },
  { judul: "Phonk", artist: "Various Artists (Phonk mix)", youtubeId: "_xUxFLEP6gc", cover: "https://i.ytimg.com/vi/_xUxFLEP6gc/hqdefault.jpg" },
  { judul: "Mashup Style", artist: "Various Artists (Mashup)", youtubeId: "_rT4DWJ5uog", cover: "https://i.ytimg.com/vi/_rT4DWJ5uog/hqdefault.jpg" },
  { judul: "Sungguh Sayang Aku (Konco Mesra)", artist: "Nella Kharisma", youtubeId: "ezQOwKLarZo", cover: "https://i.ytimg.com/vi/ezQOwKLarZo/hqdefault.jpg" },
  { judul: "Tabola Bale", artist: "Silet Open Up", youtubeId: "XY3-8xAeqYM", cover: "https://i.ytimg.com/vi/XY3-8xAeqYM/hqdefault.jpg" },
  { judul: "Sa Jauh Sa Tanam", artist: "Viral Maluku/Papua (Various)", youtubeId: "WmcKU8Iwnqw", cover: "https://i.ytimg.com/vi/WmcKU8Iwnqw/hqdefault.jpg" },
  { judul: "Di Geleng Geleng", artist: "Nofin Asia (DJ Remix)", youtubeId: "9tHepdzNd9I", cover: "https://i.ytimg.com/vi/9tHepdzNd9I/hqdefault.jpg" },
  { judul: "Duka", artist: "Last Child", youtubeId: "Ez0qU1qv9Lg", cover: "https://i.ytimg.com/vi/Ez0qU1qv9Lg/hqdefault.jpg" },
  { judul: "Seluruh Cinta", artist: "Siti Nurhaliza & Cakra Khan", youtubeId: "GVu6M3bbozk", cover: "https://i.ytimg.com/vi/GVu6M3bbozk/hqdefault.jpg" },
  { judul: "Kelingan Mantan", artist: "NDX A.K.A", youtubeId: "u1GdDTfLDso", cover: "https://i.ytimg.com/vi/u1GdDTfLDso/hqdefault.jpg" },
  { judul: "Diary Depresiku", artist: "Last Child", youtubeId: "mKr4jknqTNA", cover: "https://i.ytimg.com/vi/mKr4jknqTNA/hqdefault.jpg" },
  { judul: "Domba Kuring", artist: "Kang Darso (cipt. Asep Darso)", youtubeId: "PJ-qLVJXXOs", cover: "https://i.ytimg.com/vi/PJ-qLVJXXOs/hqdefault.jpg" },
  { judul: "Satu Bulan", artist: "Bernadya", youtubeId: "qbLnUgwIao8", cover: "https://i.ytimg.com/vi/qbLnUgwIao8/hqdefault.jpg" },
  { judul: "Mejikuhibiniu", artist: "Vira Talisa & Laze", youtubeId: "6pRyG5t8F58", cover: "https://i.ytimg.com/vi/6pRyG5t8F58/hqdefault.jpg" },
  { judul: "CLBK (Cinta Lama Bersemi Kembali)", artist: "Repvblik", youtubeId: "9N5hF2gnfHg", cover: "https://i.ytimg.com/vi/9N5hF2gnfHg/hqdefault.jpg" },
  { judul: "Agustus Anya apa?", artist: "Viral TikTok Sound", youtubeId: "LfJYLL-kew8", cover: "https://i.ytimg.com/vi/LfJYLL-kew8/hqdefault.jpg" },
  { judul: "Pagiku Cerah (Guruku Tersayang)", artist: "Melly Goeslaw", youtubeId: "rgNqx1uwsYw", cover: "https://i.ytimg.com/vi/rgNqx1uwsYw/hqdefault.jpg" },
  { judul: "Untuk Mencintaimu (speed up)", artist: "Seventeen", youtubeId: "icfGSTtCEAs", cover: "https://i.ytimg.com/vi/icfGSTtCEAs/hqdefault.jpg" },
  { judul: "Asal Kau Bahagia (speed up)", artist: "Armada", youtubeId: "1Qs63KpSyi0", cover: "https://i.ytimg.com/vi/1Qs63KpSyi0/hqdefault.jpg" },
  { judul: "GTA SA Theme x Central Cee & Dave (Mashup)", artist: "dek karmx (Remix)", youtubeId: "hqptwqkeySk", cover: "https://i.ytimg.com/vi/hqptwqkeySk/hqdefault.jpg" }
    ];

    const daftar = document.getElementById("daftar-lagu");
    const searchInput = document.getElementById("search-lagu");
    const playBtn = document.getElementById("play");
    const prevBtn = document.getElementById("prev");
    const nextBtn = document.getElementById("next");
    const judulSpan = document.getElementById("judul-lagu");
    const artistSpan = document.getElementById("artist-lagu");
    const coverImg = document.getElementById("cover");
    const progressBar = document.getElementById("progress");
    const currentTimeEl = document.getElementById("current-time");
    const totalTimeEl = document.getElementById("total-time");

    const sidebar = document.getElementById("sidebar");
    const sidebarOverlay = document.getElementById("sidebarOverlay");
    const openSidebarBtn = document.getElementById("openSidebar");
    const closeSidebarBtn = document.getElementById("closeSidebar");

    let currentIndex = 0, player, progressInterval, isPlaying = false;
    let displayedSongs = [];

    function renderSongs(songs) {
      daftar.innerHTML = "";
      displayedSongs = songs; // simpan array yang sedang dirender
      songs.forEach((lagu, i) => {
        const div = document.createElement("div");
        div.className = "group bg-[#181818] rounded-lg cursor-pointer overflow-hidden shadow-md hover:shadow-xl flex flex-col";
        div.dataset.index = i;
        div.innerHTML = `
          <div class="relative w-full aspect-square overflow-hidden rounded-t-lg">
            <img src="${lagu.cover}" alt="Cover album artwork for the song '${lagu.judul}' by artist '${lagu.artist}', showing a colorful and artistic thumbnail" class="w-full h-full object-cover"/>
            <button class="absolute bottom-3 right-3 bg-[#1db954] p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"><i class="fas fa-play"></i></button>
          </div>
          <div class="p-3 flex flex-col flex-1">
            <h3 class="text-white font-semibold text-sm truncate">${lagu.judul}</h3>
            <p class="text-gray-400 text-xs truncate mt-1">${lagu.artist}</p>
          </div>
        `;
        daftar.appendChild(div);
      });
    }

    renderSongs(laguList); // render pertama

    function loadLagu(i) {
      const l = displayedSongs[i];
      if (!l) return;
      judulSpan.textContent = l.judul;
      artistSpan.textContent = l.artist;
      coverImg.src = l.cover;
      if (player?.loadVideoById) player.loadVideoById(l.youtubeId);
    }

    function onYouTubeIframeAPIReady() {
      player = new YT.Player("youtube-player", {
        videoId: displayedSongs[0]?.youtubeId,
        playerVars: { autoplay: 0, controls: 0 },
        events: { onReady: () => loadLagu(0) }
      });
    }
    window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;

    daftar.addEventListener("click", e => {
      const card = e.target.closest("[data-index]");
      if (card) {
        currentIndex = parseInt(card.dataset.index);
        loadLagu(currentIndex);
        player.playVideo();
      }
    });

    playBtn.addEventListener("click", () => {
      if (!player) return;
      if (player.getPlayerState() === YT.PlayerState.PLAYING) {
        player.pauseVideo(); playBtn.textContent = "‚ñ∂";
      } else {
        player.playVideo(); playBtn.textContent = "||";
      }
    });

    prevBtn.addEventListener("click", () => {
      currentIndex = (currentIndex - 1 + displayedSongs.length) % displayedSongs.length;
      loadLagu(currentIndex); player.playVideo();
    });

    nextBtn.addEventListener("click", () => {
      currentIndex = (currentIndex + 1) % displayedSongs.length;
      loadLagu(currentIndex); player.playVideo();
    });

    searchInput.addEventListener("input", () => {
      const query = searchInput.value.toLowerCase();
      const filtered = laguList.filter(l =>
        l.judul.toLowerCase().includes(query) ||
        l.artist.toLowerCase().includes(query)
      );
      renderSongs(filtered);
    });

    // Sidebar toggle functions
    function openSidebar() {
      sidebar.classList.remove("-translate-x-full");
      sidebarOverlay.classList.remove("opacity-0", "pointer-events-none");
      sidebarOverlay.classList.add("opacity-100");
      document.body.style.overflow = "hidden";
    }

    function closeSidebar() {
      sidebar.classList.add("-translate-x-full");
      sidebarOverlay.classList.add("opacity-0", "pointer-events-none");
      sidebarOverlay.classList.remove("opacity-100");
      document.body.style.overflow = "";
    }

    openSidebarBtn.addEventListener("click", openSidebar);
    closeSidebarBtn.addEventListener("click", closeSidebar);
    sidebarOverlay.addEventListener("click", closeSidebar);

    // Close sidebar on window resize if desktop
    window.addEventListener("resize", () => {
      if(window.innerWidth >= 768) {
        closeSidebar();
      }
    });
  </script>
  <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>